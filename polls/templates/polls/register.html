<form id="registerForm" method="post">
  <input name="username" placeholder="username" />
  <input name="email" placeholder="email" />
  <input name="password" type="password" placeholder="password" />
  <input name="password2" type="password" placeholder="confirm password" />
  <button type="submit">Register</button>
</form>
<script>
document.getElementById('registerForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const data = {
    username: e.target.username.value,
    email: e.target.email.value,
    password: e.target.password.value,
    password2: e.target.password2.value
  };
  const res = await fetch('/accounts/api/register/', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify(data)
  });
  console.log(await res.json());
});
</script>
